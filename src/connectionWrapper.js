const a0_0x1a17a7=a0_0x26b3;(function(_0x279710,_0x190194){const _0x3f51da=a0_0x26b3,_0x2a5387=_0x279710();while(!![]){try{const _0x15bf0c=-parseInt(_0x3f51da(0xaf))/0x1+parseInt(_0x3f51da(0xb3))/0x2+-parseInt(_0x3f51da(0xb5))/0x3+-parseInt(_0x3f51da(0xc6))/0x4*(parseInt(_0x3f51da(0xba))/0x5)+-parseInt(_0x3f51da(0xbe))/0x6*(-parseInt(_0x3f51da(0xc0))/0x7)+parseInt(_0x3f51da(0xad))/0x8+parseInt(_0x3f51da(0xac))/0x9;if(_0x15bf0c===_0x190194)break;else _0x2a5387['push'](_0x2a5387['shift']());}catch(_0x6a9e61){_0x2a5387['push'](_0x2a5387['shift']());}}}(a0_0x2c65,0x9f5b5));function a0_0x2c65(){const _0x2810ad=['TikTok\x20connection\x20disconnected','exports','400212ebIwMc','connect','log','Connection','clientDisconnected','Reconnected','upgradedToWebsocket','Connected','\x20to\x20roomId\x20','error','getState','Reconnect','disconnect','Give\x20up\x20connection,\x20max\x20reconnect\x20attempts\x20exceeded','disconnected','scheduleReconnect','reconnectEnabled','emit','19630044wRfaRa','3128872iuRWCB','connected','561010gCSxCx','reconnectWaitMs','Try\x20reconnect\x20in\x20','then','768470zlIIhb','streamEnd\x20event\x20received,\x20giving\x20up\x20connection','3092622oYKrYL','Connection\x20lost.\x20','roomId','catch','maxReconnectAttempts','55NNKXRS',',\x20websocket:\x20','reconnectCount','enableLog','7428tvjKkD','Error\x20event\x20triggered:\x20','2198UtKSrF','events','info','connection'];a0_0x2c65=function(){return _0x2810ad;};return a0_0x2c65();}const {WebcastPushConnection}=require('tiktok-live-connector'),{EventEmitter}=require(a0_0x1a17a7(0xc1));let globalConnectionCount=0x0;class TikTokConnectionWrapper extends EventEmitter{constructor(_0x140ef5,_0x32fe99,_0x2872ff){const _0x278236=a0_0x1a17a7;super(),this['uniqueId']=_0x140ef5,this[_0x278236(0xbd)]=_0x2872ff,this[_0x278236(0xca)]=![],this[_0x278236(0xaa)]=!![],this[_0x278236(0xbc)]=0x0,this[_0x278236(0xb0)]=0x3e8,this['maxReconnectAttempts']=0x5,this['connection']=new WebcastPushConnection(_0x140ef5,_0x32fe99),this[_0x278236(0xc3)]['on']('streamEnd',()=>{const _0x373f74=_0x278236;this[_0x373f74(0xc8)](_0x373f74(0xb4)),this[_0x373f74(0xaa)]=![];}),this[_0x278236(0xc3)]['on'](_0x278236(0xa8),()=>{const _0x165d7f=_0x278236;globalConnectionCount-=0x1,this[_0x165d7f(0xc8)](_0x165d7f(0xc4)),this['scheduleReconnect']();}),this['connection']['on'](_0x278236(0xa3),_0x4288d2=>{const _0x1e5751=_0x278236;this[_0x1e5751(0xc8)](_0x1e5751(0xbf)+_0x4288d2[_0x1e5751(0xc2)]+',\x20'+_0x4288d2['exception']),console[_0x1e5751(0xa3)](_0x4288d2);});}[a0_0x1a17a7(0xc7)](_0x51a3f0){const _0x293a2f=a0_0x1a17a7;this[_0x293a2f(0xc3)][_0x293a2f(0xc7)]()[_0x293a2f(0xb2)](_0xa6d620=>{const _0x2e02f1=_0x293a2f;this[_0x2e02f1(0xc8)]((_0x51a3f0?_0x2e02f1(0xcb):_0x2e02f1(0xa1))+_0x2e02f1(0xa2)+_0xa6d620[_0x2e02f1(0xb7)]+_0x2e02f1(0xbb)+_0xa6d620[_0x2e02f1(0xa0)]),globalConnectionCount+=0x1,this[_0x2e02f1(0xbc)]=0x0,this['reconnectWaitMs']=0x3e8;if(this[_0x2e02f1(0xca)]){this[_0x2e02f1(0xc3)][_0x2e02f1(0xa6)]();return;}!_0x51a3f0&&this[_0x2e02f1(0xab)](_0x2e02f1(0xae),_0xa6d620);})[_0x293a2f(0xb8)](_0x276b76=>{const _0x3ecc36=_0x293a2f;this[_0x3ecc36(0xc8)]((_0x51a3f0?_0x3ecc36(0xa5):_0x3ecc36(0xc9))+'\x20failed,\x20'+_0x276b76),_0x51a3f0?this[_0x3ecc36(0xa9)](_0x276b76):this[_0x3ecc36(0xab)](_0x3ecc36(0xa8),_0x276b76['toString']());});}[a0_0x1a17a7(0xa9)](_0x207ae5){const _0x54b8a6=a0_0x1a17a7;if(!this['reconnectEnabled'])return;if(this[_0x54b8a6(0xbc)]>=this[_0x54b8a6(0xb9)]){this[_0x54b8a6(0xc8)](_0x54b8a6(0xa7)),this['emit'](_0x54b8a6(0xa8),_0x54b8a6(0xb6)+_0x207ae5);return;}this[_0x54b8a6(0xc8)](_0x54b8a6(0xb1)+this['reconnectWaitMs']+'ms'),setTimeout(()=>{const _0x5550b9=_0x54b8a6;if(!this[_0x5550b9(0xaa)]||this[_0x5550b9(0xbc)]>=this[_0x5550b9(0xb9)])return;this[_0x5550b9(0xbc)]+=0x1,this[_0x5550b9(0xb0)]*=0x2,this[_0x5550b9(0xc7)](!![]);},this[_0x54b8a6(0xb0)]);}[a0_0x1a17a7(0xa6)](){const _0x3b37b9=a0_0x1a17a7;this['log']('Client\x20connection\x20disconnected'),this['clientDisconnected']=!![],this[_0x3b37b9(0xaa)]=![],this[_0x3b37b9(0xc3)][_0x3b37b9(0xa4)]()['isConnected']&&this[_0x3b37b9(0xc3)]['disconnect']();}[a0_0x1a17a7(0xc8)](_0x360ad2){const _0xb06940=a0_0x1a17a7;this[_0xb06940(0xbd)]&&console[_0xb06940(0xc8)]('WRAPPER\x20@'+this['uniqueId']+':\x20'+_0x360ad2);}}function a0_0x26b3(_0x14ee72,_0x2603db){const _0x2c6539=a0_0x2c65();return a0_0x26b3=function(_0x26b359,_0x37c0de){_0x26b359=_0x26b359-0xa0;let _0x5b27fa=_0x2c6539[_0x26b359];return _0x5b27fa;},a0_0x26b3(_0x14ee72,_0x2603db);}module[a0_0x1a17a7(0xc5)]={'TikTokConnectionWrapper':TikTokConnectionWrapper,'getGlobalConnectionCount':()=>{return globalConnectionCount;}};